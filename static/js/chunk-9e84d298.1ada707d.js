(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e84d298"],{1676:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("99af");var n=a("b775"),s={getfirstMV:function(t){return Object(n["a"])({url:"/mv/first?limit=6&area=".concat(t),method:"get"})},getMvUrl:function(t){return Object(n["a"])({url:"/mv/url?id=".concat(t),method:"get"})},getMvInfo:function(t){return Object(n["a"])({url:"/mv/detail?mvid=".concat(t),method:"get"})},getMvCommonA:function(t){return Object(n["a"])({url:"/comment/mv?id=".concat(t.id,"&offset=").concat(t.offset,"&before=").concat(t.before),method:"get"})},getMvCommonB:function(t){return Object(n["a"])({url:"/comment/mv?id=".concat(t.id,"&offset=").concat(t.offset),method:"get"})},getExclusiveMv:function(t){return Object(n["a"])({url:"/mv/exclusive/rcmd?limit=6",method:"get"})},getPersonalizedMv:function(t){return Object(n["a"])({url:"/personalized/mv",method:"get"})},getTopMv:function(t){return Object(n["a"])({url:"top/mv?limit=12&area=".concat(t),method:"get"})}}},a0a3:function(t,e,a){t.exports=a.p+"static/img/mv.6bbace37.png"},b24c:function(t,e,a){"use strict";var n=a("bc16"),s=a.n(n);s.a},bc16:function(t,e,a){},d553:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[a("video",{attrs:{src:t.src,controls:""}}),a("div",{staticClass:"introduce"},[a("h5",{staticClass:"border-bottom"},[t._v(" MV介绍 ")]),a("div",{staticClass:"timeCount publishTime"},[t._v("发布时间:"+t._s(t.info.publishTime))]),a("div",{staticClass:"timeCount playCount"},[t._v("播放次数:"+t._s(t.info.playCount))]),a("div",{staticClass:"pre"},[t._v(" "+t._s(t.info.desc)+" ")]),t.getPersonalizedMvList?a("div",{staticClass:"getPersonalizedMv mt-5"},t._l(t.getPersonalizedMvList.result,(function(e,n){return a("div",{key:n,staticClass:"PersonalizedMv",on:{click:function(a){return t.goMv(e.id)}}},[a("img",{attrs:{src:e.picUrl,alt:""}}),a("img",{staticClass:"mvpng",attrs:{src:t.mvpng,alt:""}}),a("div",{staticClass:"playCount"},[t._v(t._s(e.playCount))]),a("div",[t._v(t._s(e.name))])])})),0):t._e()]),a("div",{staticClass:"tabs"},[a("div",{staticStyle:{height:"10vh"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"140","show-word-limit":""},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),a("el-button",{staticClass:"mr-1 mt-1",staticStyle:{display:"block",float:"right"}},[t._v("发送")])],1),t.commentList.hotComments?a("div",{staticClass:"second"},[a("h5",{staticClass:"hot text-primary"},[t._v("精彩评论:")]),t._l(t.commentList.hotComments,(function(e,n){return a("div",{key:n},[a("img",{staticClass:"hotimg",attrs:{src:e.user.avatarUrl,alt:""}}),a("div",{staticClass:"nickname "},[a("span",{staticClass:"text-primary"},[t._v(t._s(e.user.nickname))]),t._v(":"+t._s(e.content)),a("div",{staticClass:"time"},[t._v(t._s(t._f("timeFordat")(e.time)))])]),a("el-divider")],1)}))],2):t._e(),t.commentList.comments?a("div",{staticClass:"second"},[a("h5",{staticClass:"hot text-primary"},[t._v("最新评论:")]),t._l(t.commentList.comments,(function(e,n){return a("div",{key:n},[a("img",{staticClass:"hotimg",attrs:{src:e.user.avatarUrl,alt:""}}),a("div",{staticClass:"nickname "},[a("span",{staticClass:"text-primary"},[t._v(t._s(e.user.nickname))]),t._v(":"+t._s(e.content)),a("div",{staticClass:"time"},[t._v(t._s(t._f("timeFordat")(e.time)))])]),a("el-divider")],1)})),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleChange}})],2):t._e()])])},s=[],i=(a("96cf"),a("1da1")),r=a("1676"),o={name:"MvInfo",data:function(){return{mvpng:a("a0a3"),id:null,src:null,info:[],total:0,offset:0,before:0,commentList:[],textarea:"",getPersonalizedMvList:[]}},created:function(){this.id=this.$route.params.id,this.feach(this.$route.params.id)},methods:{goMv:function(t){console.log(t),this.$router.push({path:"/mv/".concat(t)})},feach:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r["a"].getMvUrl(t);case 2:return n=a.sent,s=n.data,e.src=s.url,a.next=7,r["a"].getMvInfo(t);case 7:return i=a.sent,e.info=i.data,e.getCommentList(t),a.next=12,r["a"].getPersonalizedMv();case 12:o=a.sent,e.getPersonalizedMvList=o;case 14:case"end":return a.stop()}}),a)})))()},getCommentList:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(e.total>5e3)){a.next=10;break}return n={id:t,offset:e.offset,before:e.before},a.next=4,r["a"].getMvCommonA(n);case 4:s=a.sent,s.total>5e3&&(e.before=e.commentList.comments[19].time),e.total=s.total,e.commentList=s,a.next=17;break;case 10:return i={id:t,offset:e.offset},a.next=13,r["a"].getMvCommonB(i);case 13:o=a.sent,o.total>5e3&&(e.before=e.commentList.comments[19].time),e.total=o.total,e.commentList=o;case 17:case"end":return a.stop()}}),a)})))()},handleChange:function(t){this.offset=t,this.getCommentList(this.id)}}},c=o,m=(a("b24c"),a("2877")),l=Object(m["a"])(c,n,s,!1,null,"6ceee828",null);e["default"]=l.exports}}]);